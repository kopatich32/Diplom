<!DOCTYPE html>
<html>
<head>
	<title>Parcel Sandbox</title>
	<meta charset="UTF-8"/>
</head>

<body>
<style>body {
	font-family: sans-serif;
	margin: 0;
}

h1 {
	margin-top: 0;
}

.header {
	height: calc(100vh + 100px);
	background-color: peru;
}

section {
	height: 100vh;
}

img {
	width: 150px;
	height: 150px;
}
</style>
<header class="header">
	<h1>There is no images!</h1>
	<h2>Scroll bottom.</h2>
</header>

<section>
	<img
			alt=""
			data-src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Unofficial_JavaScript_logo_2.svg/1024px-Unofficial_JavaScript_logo_2.svg.png"
	/>
</section>

<section>
	<img
			alt=""
			data-src="https://upload.wikimedia.org/wikipedia/commons/0/09/BEich.jpg"
	/>
</section>

<section>
	<img loading="lazy"
			alt=""
			data-src="https://upload.wikimedia.org/wikipedia/commons/7/75/Marc_Andreessen.jpg"
	/>
</section>

<script>
	let a = function (entires, observer) {
		console.log(entires)
		entires.forEach(elem => {
			if(elem.isIntersecting){
				elem.target.src = elem.target.dataset.src;
			}
		})
	};

	let b = {
		threshold: 1,
	};
	let observerObj = new IntersectionObserver(a, b);
let allImg = document.querySelectorAll('img');
allImg.forEach(btn =>{
	observerObj.observe(btn)

})
</script>
</body>
</html>
